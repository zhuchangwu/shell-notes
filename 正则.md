### 正则

常见的支持正则表达式的程序如:

locate / find / vim / grep / sed / awk



### 正则中的名词解释

* 元字符

  正则表达式中具有特殊意义的专用字符, 如  **. * ?**   等

* 前导字符

  位于元字符前面的字符, ab**c***  ab**c**.



### 第一类正则

#### 常见的元字符

| 元字符 | 功能                                             | 备注      |
| ------ | ------------------------------------------------ | --------- |
| .      | 匹配除了换行符外的任意单个字符                   |           |
| *      | 前导字符出现了0次,或者连续出现多次               |           |
| .*     | 任意长度字符                                     | ab.*      |
| ^      | 行首以...开头                                    | ^root     |
| $      | 行尾以...结束                                    | bash$     |
| ^$     | 空行                                             |           |
| []     | 匹配括号里面任意一个字符或者一组单个字符         | [abc]     |
| [^]    | 匹配不包含括号里面任意一个字符或者一组单个字符   | [^abc]    |
| ^[]    | 匹配以括号里面任意一个字符或者一组单个字符开头   | ^[abc]    |
| ^[^]   | 匹配不以括号里面任意一个字符或者一组单个字符开头 | `^[^abc]` |

#### 其他元字符

| 元字符    | 功能                              | 备注                           |
| --------- | --------------------------------- | ------------------------------ |
| `\<`      | 取单词的头                        | `\<he` 可以匹配到 hello        |
| `\>`      | 取单词的尾                        | `rld\>` 可以匹配到 world       |
| `\< \>`   | 精确匹配                          | `\<hello\>` 可以匹配到 hello   |
| `\{n\}`   | 匹配前导字符连续出现n次           | `go\{2\}`  可以匹配到 goo..... |
| `\{n,\}`  | 匹配前导字符至少出现n次           |                                |
| `\( \)`   | 保留匹配到的字符                  |                                |
| \d        | 匹配数字 (grep -P)                | [0-9]                          |
| \w        | 匹配数字, 字母, 下划线 (grep -P)  | [a-zA-Z0-9]                    |
| \s        | 匹配空格. 制表符, 换页符(grep -P) | [\t\r\n]                       |
| `\{n,m\}` | 匹配前导字符出现次数在n-m之间     |                                |

#### 扩展正则

grep使用扩展正则需要添加 `-E`

sed使用扩展正则添加`-r`



| 扩展元字符 | 功能                      | 备注                                         |
| ---------- | ------------------------- | -------------------------------------------- |
| +          | 匹配一个或者多个前导字符  | bo+ 匹配 boo , bo                            |
| ?          | 匹配一个或者0个前导字符   | bo? 匹配 b , bo                              |
| \|         | 或者                      | a\|b,  要么是a, 要么是b                      |
| ()         | 组字符, 看成整体          | (my\|your)self , 匹配到myself , 或者yourself |
| {n}        | 前导字符重复出现n次       |                                              |
| {n,}       | 前导字符至少重复出现n次   |                                              |
| {n,m}      | 前导字符至少重复出现n-m次 |                                              |

### 第二类正则

| 表达式    | 功能                           | 示例            |
| --------- | ------------------------------ | --------------- |
| [:alnum:] | 字母与数字                     | [[:alnum:]]+    |
| [:alpha:] | 字母字符(包含大小写字母)       | [[:alpha:]]{4}  |
| [:blank:] | 空格与制表符                   | [:blank:]*      |
| [:digit:] | 数字                           | [:digit:]?      |
| [:lower:] | 小写字母                       | [[:lower:]]{4,} |
| [:upper:] | 大写字母                       | [[:upper:]]+    |
| [:punct:] | 标点符号                       | [[:punct:]]     |
| [:space:] | 包含换行符, 回车在内的所有空白 | [[:space:]]+    |

> **这类正则和前面的正则配合使用**





### 总结:

* 找什么?
  * 找数字 [0-9]
  * 找字母 [a-zA-Z]
  * 找标点 [[:punct:]]
* 如何找?
  * 以什么为首 ^key
  * 以什么为尾 key$
  * 包含什么, 不包含什么?  ` [abc]  ^[abc] [^abc] ^[^abc]`
* 找多少?
  * 前导字符连续出现一次或者多次  ab*
  * 找任意单个字符   ab.
  * 找任意字符  ab.*
  * 前导字符连续出现几次   {n} {n,m} {n,}
  * 前导字符连续出现1次或者多次   go+